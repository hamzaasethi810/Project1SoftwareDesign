
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AI Academic Companion — CS 5744 Project 1</title>
  <link rel="stylesheet" href="assets/style.css">
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script src="assets/site.js" defer></script>
</head>
<body>
<header>
  <div class="wrapper">
    <div class="brand">
      <h1>CS 5744 — AI Academic Companion </h1>
      <small class="small">Rami Ghaleb - Ethan Crouse - Hamza Sethi - Nart Hakij - Shoaib Cheema</small>
    </div>
    <nav>
      <a href="index.html" class="">Background</a> <a href="requirements.html" class="">Requirements</a>  <a href="high-level-design.html" class="">High Level Design</a> <a href="rationale.html" class="">Design Rationale</a>  <a href="full-text.html" class="current">Full Text</a>
    </nav>
  </div>
</header>
<main>
  <div class="wrapper">
    <h1>Requirements</h1>

<u><h2>Game and Achievement</h2></u>
<h3>Functional Requirements</h3>
<h4>Rules</h4>
<ul>
<li><b>FR-001 (Catalog): </b>The system shall maintain a catalog of acheivements/badges with fields: id, title, rarity, criteria, rewards, visibility, timeframe</li>
<li><b>FR-002 (Criteria Engine): </b>The system shall evaulate acheivement criteria from user events (e.g., "Score &gt; 90% on exam this week", "Attend 5 tutoring session in 7 days")</li>
</ul>
<h4>Progression</h4>
<ul>
  <li><b>FR-003 (XP): </b>Compute XP for actions user makes (eg, logging in, tutoring session)</li>
  <li><b>FR-004 (Streaks): </b>Track streaks and compare it to the planned study schedule with a 1-day grace rule allowing for flexability without looking progress
  <li><b>FR-005 (Awards & Notify): </b>Award badges and acheivements and send notification as soon as badge is earned through action</li>
  </li>
</ul>
<h4>Social</h4>
<ul>
  <li><b>FR-006 (UI View): </b>Provide a section in user page that shows the achivements the user has earned and ones that the user is close to earning</li>
  <li><b>FR-007 (Leaderboards): </b>Provide a leaderboard to compare with friends/classmates/all Virginia Tech students within windows of time (daily/weekly/semesterly)</li>
  <li><b>FR-008 (Share Card): </b>Generate acheivement card to be posted to show off achievements to other users</li>
</ul>
<h4>Data</h4>
<ul>
  <li><b>FR-009 (APIs): </b>Create APIs to read and post for user achievement data</li>
  <li><b>FR-010 (Anti-cheat): </b>The system will validate and flag suspicious events such as unrealistic sessions and duplicate sessions</li> 
  <li><b>FR-011 (Recompute): </b>System will be able to recompute acheivements in event of leak in rules and acheivements that shouldn't be earned can be removed by changing the rules and recomputing</li>
</ul>
<h3>Non-Functional Requirements</h3>
<ul>
  <li><b>NFR-001 : </b>XP to be calculated after each event in &lt; 200ms and recorded in &lt; 1s</li>
  <li><b>NFR-002 : </b>Sanity checks once a day to ensure consistency in leaderboard</li>
  <li><b>NFR-003 (Scalability): </b>Data storage should be suitable for store 1 million rows per semester while preserving accuracy and speed</li>
</ul>

<u><h2>Upload Profile</h2></u>
<h3>Functional Requirements</h3>
<ol>
  <li id="FR-101"><strong>FR-101 (Import)</strong>: The system will let a user create a profile by pulling data from Canvas or by uploading a file (CSV/ICS).</li>
  <li id="FR-102"><strong>FR-102 (Time Blocks)</strong>: The system will let a user add regular and one-time time blocks (work, clubs, quiet hours).</li>
  <li id="FR-103"><strong>FR-103 (Calendar Check)</strong>: The system will read a user’s calendar (read-only) to find overlaps during import.</li>
  <li id="FR-104"><strong>FR-104 (Preferences)</strong>: The system will store simple planning preferences (for example, study block length and how strict deadlines are).</li>
  <li id="FR-105"><strong>FR-105 (Versions)</strong>: Each import will be saved as a new version. Users can compare versions and go back if needed.</li>
  <li id="FR-106"><strong>FR-106 (Field Mapping)</strong>: The system will map incoming fields to a common format. Unused fields may be ignored.</li>
  <li id="FR-107"><strong>FR-107 (Validation)</strong>: The system will check basic details (course codes, dates, times, time zones) and reject clearly invalid rows with simple reasons.</li>
  <li id="FR-108"><strong>FR-108 (Duplicates)</strong>: The system will find and merge duplicate entries from different sources.</li>
  <li id="FR-109"><strong>FR-109 (Idempotency)</strong>: Re-importing the same data will not create a new version.</li>
  <li id="FR-110"><strong>FR-110 (Time Zones)</strong>: Dates and times will be stored in a consistent way while keeping the user’s local time zone.</li>
  <li id="FR-111"><strong>FR-111 (Rules)</strong>: Time blocks will be stored as simple rules (repeat pattern, exceptions, and priority) so they can be used later.</li>
  <li id="FR-112"><strong>FR-112 (Export/Delete)</strong>: Users can export their current profile as a file and delete a specific version.</li>
  <li id="FR-113"><strong>FR-113 (Access)</strong>: Only the profile owner can view or change their profile and versions.</li>
  <li id="FR-114"><strong>FR-114 (Provenance)</strong>: Each item will record where it came from (Canvas, CSV, ICS) and which version it belongs to.</li>
  <li id="FR-115"><strong>FR-115 (Conflict Summary)</strong>: After import, the system will keep a short summary of overlaps and unusual items.</li>
</ol>
<h3>Non-Functional Requirements</h3>
<ol>
  <li id="NFR-101"><strong>NFR-101 (Privacy)</strong>: Store only what is needed. Protect data in transit and at rest. Use narrow permissions. Allow export and delete.</li>
  <li id="NFR-102"><strong>NFR-102 (Performance)</strong>: The import should start quickly, and normal files should finish processing in a short time.</li>
  <li id="NFR-103"><strong>NFR-103 (Resilience)</strong>: If outside services are slow or down, file import should still work and the system should try again later.</li>
  <li id="NFR-104"><strong>NFR-104 (Audit)</strong>: Keep a simple record of who imported, when, and from what source.</li>
  <li id="NFR-105"><strong>NFR-105 (Reliability)</strong>: Most import jobs should finish successfully over time.</li>
  <li id="NFR-106"><strong>NFR-106 (Visibility)</strong>: Keep basic logs and counts for imports and invalid rows.</li>
  <li id="NFR-107"><strong>NFR-107 (Limits)</strong>: Respect safe request limits when talking to outside services.</li>
  <li id="NFR-108"><strong>NFR-108 (Storage)</strong>: Keep profile versions small and limit how many versions are stored per user.</li>
  <li id="NFR-109"><strong>NFR-109 (Security)</strong>: Handle secrets safely and refresh access tokens when required.</li>
  <li id="NFR-110"><strong>NFR-110 (Compliance)</strong>: Support basic student data practices, including delete-on-request.</li>
  <li id="NFR-111"><strong>NFR-111 (Compatibility)</strong>: Changes to the profile format should not break older data right away.</li>
  <li id="NFR-112"><strong>NFR-112 (Recovery)</strong>: Be able to restore profile data from backups.</li>
</ol>

<u><h2>AI Tutor</h2></u>
<h3>FR-201: Intelligent Tutoring System</h3>
<p>The AI Tutor system delivers personalized educational support...</p>
<h4>FR-201.1: Natural Language Query Interface</h4>
<p>Students can use the chat interface...</p>
<h4>FR-201.2: Canvas Content Integration</h4>
<p>The AI Tutor requires Canvas integration...</p>
<h4>FR-201.3: Adaptive Quiz Generation</h4>
<p>The adaptive quiz generation system functions...</p>
<h4>FR-201.4: Reading Comprehension and Summarization</h4>
<p>The AI Tutor system performs text review...</p>
<h4>FR-201.5: Concept Explanation with Multi-Modal Learning</h4>
<p>The AI Tutor system provides multiple learning approaches...</p>
<h4>FR-201.6: Study Session Recommendations</h4>
<p>The AI Tutor analyzes upcoming assignments...</p>
<h4>FR-201.7: Progress Tracking and Analytics</h4>
<p>The system tracks student interactions...</p>
<h3>NFR-201: AI Tutor Non-Functional Requirements</h3>
<h4>NFR-201.1: Response Time</h4>
<p>The AI Tutor responds to student queries...</p>
<h4>NFR-201.2: Accuracy and Reliability</h4>
<p>Tutoring responses maintain a minimum accuracy...</p>
<h4>NFR-201.3: Privacy and Data Security</h4>
<p>All student interactions with the AI Tutor are encrypted...</p>
<h4>NFR-201.4: Scalability</h4>
<p>The AI Tutor backend supports concurrent sessions...</p>
<h4>NFR-201.5: Usability and Accessibility</h4>
<p>The AI Tutor interface complies with WCAG 2.1...</p>
<h4>NFR-201.6: Maintainability and Model Updates</h4>
<p>The system is designed with a modular AI model architecture...</p>
<h4>NFR-201.7: Integration Compatibility</h4>
<p>The AI Tutor integrates seamlessly with other system components...</p>

<u><h2>UI</h2></u>
<h3><b>Functional Requirements</b></h3>
FR-301 <b>(Buttons)</b> – The system shall contain buttons...<br>
FR-302 <b>(Text Fields)</b> – The system shall contain text fields...<br>
FR-303 <b>(Links to pages)</b> – The system shall contain link embedded words...<br>
FR-304 <b>(Layout)</b> – The system shall display a constant header...<br>
FR-305 <b>(Responsive)</b> – The system shall work on various screen sizes...<br>
FR-306 <b>(Dashboard)</b> – The system shall display all the progress...<br>
FR-307 <b>(Timeout)</b> – The system shall display a timeout message...<br>
<h3><b>Non-Functional Requirements</b></h3>
NFR-301 <b>(Efficiency)</b>– Navigation must take less than 200ms<br>
NFR-302 <b>(Performance)</b>– All pages are on standby...<br>
NFR – 303 <b>(Communicative)</b> – If anything is not working...<br>
NFR-304 <b>(Security)</b> – All information such as password will be tokenized...<br>


<u><h2>Scheduler</h2></u>
<h3>Functional Requirements</h3>
<h3>User Input</h3>
<ul>
  <li><b>FR-401:</b> Users will be able to input their class schedules...</li>
  <li><b>FR-402:</b> The software will also be able to obtain students' assignments...</li>
  <li><b>FR-403:</b> Users will be able to input any free time...</li>
</ul>
<h3>Schedule Generation</h3>
<ul>
  <li><b>FR-404:</b> The system will then take all of the aforementioned information...</li>
  <li><b>FR-405:</b> As new assignments as being added through Canvas...</li>
  <li><b>FR-406:</b> The system will also be able to be manually changed...</li>
  <li><b>FR-407:</b> Real-time updates will be given to users.</li>
</ul>
<h3>Interaction with AI Companion</h3>
<ul>
  <li><b>FR-408:</b> The user will able to communicate with the AI companion...</li>
  <li><b>FR-409:</b> The AI companion will provide suggestions...</li>
</ul>
<h3>User Feedback</h3>
<ul>
  <li><b>FR-410:</b> The system will prompt users with feedback opportunities...</li>
  <li><b>FR-411:</b> The system will provide a highly usable interface...</li>
  <li><b>FR-412:</b> The system's visualization will be able to be changed dynamically...</li>
</ul>
<h3>Non-Functional Requirements</h3>
<h3>Performance</h3>
<ul>
  <li><b>NFR-401:</b> The system should generate schedules within 3 seconds...</li>
  <li><b>NFR-402:</b> The system should check for any changes from Canvas...</li>
  <li><b>NFR-403:</b> The system should do weekly inquiries...</li>
</ul>
<h3>Scalability</h3>
<ul>
  <li><b>NFR-404:</b> The system should be able to handle large amounts of data...</li>
  <li><b>NFR-405:</b> The system should be able to support large amounts of users...</li>
  <li><b>NFR-406:</b> The system should be able to support all of Canvas' users...</li>
</ul>
<h3>Security</h3>
<ul>
  <li><b>NFR-407:</b> The system should maintain security just like that of Canvas...</li>
  <li><b>NFR-408:</b> Any information being shared between APIs should be encrypted...</li>
  <li><b>NFR-409:</b> Consent must be given from users...</li>
</ul>
<h3>Adaptability</h3>
<ul>
  <li><b>NFR-410:</b> The AI companion should be able to learn from previous adjustements...</li>
  <li><b>NFR-411:</b> The AI companion should be able to adapt as Canvas and other future APIs...</li>
</ul>
<h1>High Level Design</h1>

<u><h2>Game and Achievements</h2></u>
<p>The Game and Achievements subsystem is designed using a modular, object-oriented architecture that enmphasizes scalability, maintainability, and event driven communication between modules. As shown in the figure 
  below the system is divided into four primary managable modules: Connector, Progression, Social, and Admin. Each of the modules are responsibile 
  for a direct set of functionality ranging from event registration and forming custom achievements for users, making a leaderboard to compare 
  with friends, and admin control to ensure small changes without having to write new code. Together, these modules collectivaly address all 
  the functional and non-functional requirements for the game and achievements layer of the Ai Academic Companion.</p>
  <img src="assets/images/GA_HLD.png" alt="Game and Achievements Diagram" class="image">
  <ul>
  <li><b>Connector Module: </b>Receives study/quiz/weekly events from the external subsystems, ensures they're in the correct format to be processed by this system and creates and stores events to the game engine</li>
  <li><b>Progression Module: </b>Calculates XP, manages streaks, evaluates criteria against the catalog, and rewards user with badges and acheivements</li>
  <li><b>Social Module: </b>Maintains leaderboards (friends/class/school) and generates shareable achievement cards to be posted and be viewed by other uses to show off earned awards</li>
  <li><b>Admin & Catalog Module: </b>Host the achievement catalog and the recompute/backfill jobs</li>
</ul>

<h3>Connector Module</h3>
<p><b>Purpose: </b>Safely bring the external data into the game subsystem</p>
<ul>
  <li><b>Classes: </b>EventReader and AntiCheat</li>
  <li>Responsibilties: </li>
  <ul>
    <li>Validate data being passed and ensures correct format (FR-010, NFR-002)</li>
    <li>Apply an anti-cheat to detect for unrealistic or duplicate session and flags suspicious events (FR-010)</li>
  </ul>
  <li><b>Interfaces: </b></li>
  <ul>
    <li>POST game/event/user/{username}/week/{weekid} to store events (FR-009, NFR-003)</li>
  </ul>
</ul>
<h3>Progression Module</h3>
<p><b>Purpose:</b> Deterministic computation of XP, streaks, and achievements</p>
<ul>
  <li><b>Entities / Value Objects:</b> Player, Progress, Streak, Achievement, Reward</li>
  <li><b>Classes:</b> GameEngine, ScoringStrategy, RulesEngine/Criteria, RewardIssuer, Progress Tracker</li>
  <li><b>Responsibilities:</b>
    <ul>
      <li>Game Engine sends events to the scoring ScoringStrategy to collect xp values for each event (FR-003)</li>
      <li>Game Engine passes the event data with the xp values to Criteria/Rules Engine to make custom achievable goals to set as acheivements for the user to reach in a given week (FR-002)</li>
      <li>Stores achievements to be earned to Criteria API for user</li>
      <li>When Game Engine hears an event from external systems it passes it to the progress tracker to store the event (FR-004)</li>
      <li>After an event is stored in the progress tracker, the game engine asked the reward issuer if there are any rewards to be issued (FR-005)</li>
      <li>Evaluate criteria against the catalog and award badges (FR-001, FR-002, FR-005)</li>
      <li>Send notifications on badge/level changes (FR-005)</li>
    </ul>
  </li>
  <li><b>Interfaces:</b>
    <ul>
      <li>GET /game/user/{username}/progress — progress, XP, level, streak, badges (FR-006, FR-009, NFR-003)</li>
      <li>Domain Events: ProgressUpdated, BadgeAwarded, LevelUp</li>
    </ul>
  </li>
</ul>

<h3>Social Module</h3>
<p><b>Purpose: </b>Way to view and showoff rankings and shareables to yourself and other users</p>
<ul>
  <li><b>Classes:</b> LeaderboardService, Leaderboard API, Share Card Generator</li>
  <li><b>Responsibilities:</b>
    <ul>
      <li>Maintain leaderboards for friends/course/global with daily/weekly/semester windows (FR-007)</li>
      <li>Respect privacy by supporting school only views to limit users max view of only students at their school</li>
      <li>Generate shareable achievement card data and sends it to UI to make visual to display component containing user's username and badge metadata (FR-008)</li>
    </ul>
  </li>
  <li><b>Interfaces:</b>
    <ul>
      <li>GET /game/leaderboards?scope={timeframe, school} (FR-009, NFR-003)</li>
      <li>GET /game/sharecard/{achievementId} (FR-009, NFR-003)</li>
    </ul>
  </li>
</ul>

<h3>Admin Module</h3>
<p><b>Purpose:</b> Safe testing and fixing of the game</p>
<ul>
  <li><b>Classes:</b> CatalogRepository, Admin API, RecomputeWorker</li>
  <li><b>Responsibilities:</b>
    <ul>
      <li>Keeps database of achievements/quests with schema validation, visibility, and season windows (FR-001)</li>
      <li>Recompute/backfill user progress when rules change (FR-011)</li>
    </ul>
  </li>
  <li><b>Interfaces:</b>
    <ul>
      <li>POST /game/admin/catalog</li>
      <li>POST /game/admin/recompute</li>
    </ul>
  </li>
</ul>

<h3>Data Views</h3>
<ul>
  <li><b>Catalog Item:</b> { id, title, icon, rarity, criteria, rewards, season_window, active }</li>
  <li><b>Player Progress:</b> { playerId, xp, level, streak{days, lastActive, graceLeft}, badges[] }</li>
  <li><b>Leaderboard Row:</b> { scope, window, rank, username, score, username }</li>
</ul>

<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f0f0f0;">
      <th>Requirement ID</th>
      <th>Design Component(s)</th>
      <th>Rationale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FR-001 (Catalog)</td>
      <td>Admin &amp; Catalog Module</td>
      <td>Stores/maintains achievement catalog with schema/visibility; admin updates without code changes.</td>
    </tr>
    <tr>
      <td>FR-002 (Criteria Engine)</td>
      <td>Progression Module (RulesEngine/Criteria)</td>
      <td>Evaluates achievement rules against user events to determine awards.</td>
    </tr>
    <tr>
      <td>FR-003 (XP)</td>
      <td>Progression Module (GameEngine, ScoringStrategy)</td>
      <td>Deterministic computation of XP per action.</td>
    </tr>
    <tr>
      <td>FR-004 (Streaks)</td>
      <td>Progression Module (Streak entity)</td>
      <td>Tracks streaks with grace rule and schedule alignment.</td>
    </tr>
    <tr>
      <td>FR-005 (Awards &amp; Notify)</td>
      <td>Progression Module (RewardIssuer) + UI hook</td>
      <td>Awards badges when criteria met and triggers user notification.</td>
    </tr>
    <tr>
      <td>FR-006 (UI View)</td>
      <td>UI (Profile/Achievements view)</td>
      <td>Displays earned/nearby achievements to user.</td>
    </tr>
    <tr>
      <td>FR-007 (Leaderboards)</td>
      <td>Social Module (Leaderboard API)</td>
      <td>Ranks friends/class/global with time windows; privacy-aware scopes.</td>
    </tr>
    <tr>
      <td>FR-008 (Share Card)</td>
      <td>Social Module (Share Card Generator)</td>
      <td>Generates a shareable achievement card from badge metadata.</td>
    </tr>
    <tr>
      <td>FR-009 (APIs)</td>
      <td>Connector Module (POST game/event...), Social APIs</td>
      <td>Provides endpoints to ingest events and fetch leaderboard/share data.</td>
    </tr>
    <tr>
      <td>FR-010 (Anti-cheat)</td>
      <td>Connector Module (AntiCheat)</td>
      <td>Flags unrealistic/duplicate sessions before they reach the engine.</td>
    </tr>
    <tr>
      <td>FR-011 (Recompute)</td>
      <td>Admin &amp; Catalog Module (RecomputeWorker)</td>
      <td>Backfills/recomputes progress when rules/catalog change.</td>
    </tr>

    <tr>
      <td>NFR-001 (Latency)</td>
      <td>Progression Module; event-driven processing</td>
      <td>XP calc &lt;200ms / record &lt;1s via lightweight, deterministic logic.</td>
    </tr>
    <tr>
      <td>NFR-002 (Consistency)</td>
      <td>Connector Module (validation); Social (leaderboard sanity)</td>
      <td>Daily sanity checks; input validation ensures stable leaderboard state.</td>
    </tr>
    <tr>
      <td>NFR-003 (Scalability)</td>
      <td>Social (Leaderboards), Admin &amp; Catalog, Data Stores</td>
      <td>Data model/API sized for millions of rows per semester; fast reads/writes.</td>
    </tr>
  </tbody>
</table>

<u><h2>Upload Profile</h2></u>
<section id="components">
</section>

<h2>Components</h2>
  <ul>
    <li><strong>C-01 Extension</strong>: Starts the import and shows basic results. [FR-101, FR-102, FR-103, FR-104]</li>
    <li><strong>C-04 Profile</strong>: Holds profiles, versions, rules, and provenance. [FR-101, FR-105, FR-109, FR-111, FR-112, FR-114, NFR-104]</li>
    <li><strong>C-07 Canvas</strong>: Connects to Canvas and turns incoming data into a common format. [FR-101, FR-106, FR-107, FR-108, NFR-101]</li>
    <li><strong>C-08 Calendar</strong>: Reads events (read-only) to help find overlaps. [FR-103, FR-115]</li>
    <li><strong>C-05 Gateway</strong>: Routes requests and manages background work. [NFR-102, NFR-107]</li>
    <li><strong>C-10 Access</strong>: Handles permissions and secure access. [FR-113, NFR-101, NFR-109]</li>
    <li><strong>C-11 Storage</strong>: Databases, files, background jobs, and backups. [FR-110, FR-112, NFR-102, NFR-108, NFR-112]</li>
  </ul>

  <h2>Flow</h2>
  <ol>
    <li><em>Start</em>: The user begins an import and picks a source (Canvas or file). [FR-101]</li>
    <li><em>Connect</em>: The system gets access to Canvas when needed, or accepts the file and stores it. [FR-101, NFR-101, NFR-109]</li>
    <li><em>Format</em>: Incoming fields are mapped to a common format. [FR-106]</li>
    <li><em>Check</em>: The system does basic checks (codes, dates, times). Invalid rows are noted. [FR-107]</li>
    <li><em>Clean Up</em>: Obvious duplicates are merged. [FR-108]</li>
    <li><em>Same Data</em>: If the data is the same as before, no new version is created. [FR-109]</li>
    <li><em>Blocks and Settings</em>: Time blocks and simple preferences are saved. [FR-102, FR-104, FR-111]</li>
    <li><em>Overlaps</em>: Calendar events are read and a short overlap summary is stored. [FR-103, FR-115]</li>
    <li><em>Save</em>: A new version with source details and an audit record is created. [FR-105, FR-112, FR-114, NFR-104]</li>
    <li><em>When Services Are Down</em>: File import still works; the system will try outside services again later. [NFR-103]</li>
    <li><em>Timeliness</em>: The import starts quickly and longer work runs in the background. [NFR-102]</li>
  </ol>

  <h2>System Qualities</h2>
  <ul>
    <li>Most imports should finish successfully over time. [NFR-105]</li>
    <li>Keep basic logs and counts for troubleshooting. [NFR-106]</li>
    <li>Use safe request limits with backoff when needed. [NFR-107]</li>
    <li>Keep versions small and limit how many are stored. [NFR-108]</li>
    <li>Handle secrets and tokens safely. [NFR-109]</li>
    <li>Support delete-on-request and common student data practices. [NFR-110]</li>
    <li>Do not break older data when the format changes. [NFR-111]</li>
    <li>Be able to restore profiles from backups. [NFR-112]</li>
  </ul>

<section id="apis">
  <h2>Selected APIs</h2>
  <pre class="code">
POST /profile/import { source:"canvas|file", fileRef? } → 202 { jobId }        [FR-101, NFR-102]
GET  /profile/version/{id}                                → 200 { profile }     [FR-105, NFR-104]
POST /profile/constraints                                 → 200 { saved:true }  [FR-102]
POST /profile/preferences                                 → 200 { saved:true }  [FR-104]
GET  /calendar/preview                                    → 200 { events[] }    [FR-103]
  </pre>
</section>
<table
          border="1"
          cellpadding="8"
          cellspacing="0"
          style="border-collapse: collapse; width: 100%; margin-top: 20px"
        >
          <thead>
            <tr style="background-color: #f0f0f0">
              <th>Requirement ID</th>
              <th>Design Component(s)</th>
              <th>Rationale</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>FR-101</td>
              <td>C-01 Extension, C-07 Canvas</td>
              <td>Starts import from Canvas or uploaded file.</td>
            </tr>
            <tr>
              <td>FR-102</td>
              <td>C-01 Extension</td>
              <td>Lets users set time blocks during upload.</td>
            </tr>
            <tr>
              <td>FR-103</td>
              <td>C-08 Calendar</td>
              <td>Checks for calendar overlaps.</td>
            </tr>
            <tr>
              <td>FR-104</td>
              <td>C-01 Extension</td>
              <td>Stores user preferences from input.</td>
            </tr>
            <tr>
              <td>FR-105</td>
              <td>C-04 Profile</td>
              <td>Maintains version control and change history.</td>
            </tr>
            <tr>
              <td>FR-106</td>
              <td>C-07 Canvas</td>
              <td>Maps incoming fields to standard schema.</td>
            </tr>
            <tr>
              <td>FR-107</td>
              <td>C-07 Canvas</td>
              <td>Performs input validation before saving.</td>
            </tr>
            <tr>
              <td>FR-108</td>
              <td>C-07 Canvas</td>
              <td>Handles duplicate record merging.</td>
            </tr>
            <tr>
              <td>FR-109</td>
              <td>C-04 Profile</td>
              <td>Detects repeated imports to prevent redundancy.</td>
            </tr>
            <tr>
              <td>FR-110</td>
              <td>C-11 Storage</td>
              <td>Ensures correct time zone conversion for stored events.</td>
            </tr>
            <tr>
              <td>FR-111</td>
              <td>C-04 Profile</td>
              <td>Saves repeat and exception rules for scheduling.</td>
            </tr>
            <tr>
              <td>FR-112</td>
              <td>C-11 Storage</td>
              <td>Allows export and deletion of versions.</td>
            </tr>
            <tr>
              <td>FR-113</td>
              <td>C-10 Access</td>
              <td>Restricts access to authorized users only.</td>
            </tr>
            <tr>
              <td>FR-114</td>
              <td>C-04 Profile</td>
              <td>Keeps track of data origin and import source.</td>
            </tr>
            <tr>
              <td>FR-115</td>
              <td>C-08 Calendar</td>
              <td>Summarizes conflicts and anomalies.</td>
            </tr>
            <tr>
              <td>NFR-101</td>
              <td>C-10 Access</td>
              <td>Protects privacy and limits permissions.</td>
            </tr>
            <tr>
              <td>NFR-102</td>
              <td>C-05 Gateway, C-11 Storage</td>
              <td>Ensures quick and efficient processing.</td>
            </tr>
            <tr>
              <td>NFR-103</td>
              <td>C-05 Gateway</td>
              <td>Retries failed network requests safely.</td>
            </tr>
            <tr>
              <td>NFR-104</td>
              <td>C-04 Profile</td>
              <td>Maintains audit records for imports.</td>
            </tr>
            <tr>
              <td>NFR-105</td>
              <td>C-11 Storage</td>
              <td>Improves reliability of stored data.</td>
            </tr>
            <tr>
              <td>NFR-106</td>
              <td>C-11 Storage</td>
              <td>Provides clear logs and metrics for administrators.</td>
            </tr>
            <tr>
              <td>NFR-107</td>
              <td>C-05 Gateway</td>
              <td>Manages connection limits with retry logic.</td>
            </tr>
            <tr>
              <td>NFR-108</td>
              <td>C-11 Storage</td>
              <td>Controls size and version limits per user.</td>
            </tr>
            <tr>
              <td>NFR-109</td>
              <td>C-10 Access</td>
              <td>Uses encrypted token management.</td>
            </tr>
            <tr>
              <td>NFR-110</td>
              <td>C-10 Access</td>
              <td>Follows data deletion and compliance rules.</td>
            </tr>
            <tr>
              <td>NFR-111</td>
              <td>C-04 Profile</td>
              <td>Ensures backward compatibility for updates.</td>
            </tr>
            <tr>
              <td>NFR-112</td>
              <td>C-11 Storage</td>
              <td>Supports backup and recovery of data.</td>
            </tr>
          </tbody>
        </table>
<u><h2>AI Tutor</h2></u>
<h3>Component Overview</h3>
<p>
  The AI Tutor component exists under the ID <strong>HLD-201</strong>. The AI Academic Companion contains this 
  component which operates as its intelligent learning assistance subsystem. The system operates through large 
  language models and natural language processing technology. The system delivers individualized tutoring support 
  which adapts to specific situations. The component receives data from the scheduler and Canvas feeds.
</p>

<h3>Architectural Design</h3>
<p>
  The AI Tutor operates through a structured design system which includes multiple layers. The system consists 
  of three essential operational layers.
</p>

<h4>HLD-201.1: Presentation Layer (User Interface)</h4>
<p>
  <strong>Chat Interface Module</strong>: The system offers users a conversational interface through this module. 
  The UI exists as a part of the Chrome extension and HokieSPA interface. The module executes multiple essential 
  functions which include:
</p>
<ul>
  <li>The system displays messages in real time while supporting text and code blocks and mathematical notation.</li>
  <li>The system checks user input for validity before processing queries.</li>
  <li>The system maintains conversation history through its session management system.</li>
  <li>The system displays loading indicators which progress as AI operations extend their duration.</li>
</ul>
<p>
  <strong>Quiz Interface Module</strong>: The system shows students interactive assessment content through this 
  module. The assessment contains different types of questions. The assessment includes three question types 
  which are multiple choice and short answer and code completion. The system shows immediate feedback to users 
  through its interface.
</p>
<p>
  <strong>Dashboard Module</strong>: The dashboard module shows students their study progress through analytics 
  and provides them with personalized recommendations. The system uses visual summaries and charts to display 
  information.
</p>

<h4>HLD-201.2: Business Logic Layer (Tutoring Engine)</h4>
<p>
  The core AI tutoring operations run through this layer.
</p>

<p>
  <strong>Query Processing Service (HLD-201.2.1)</strong>: 
</p>
<ul>
  <li>The system accepts natural language queries from the presentation layer.</li>
  <li>The system identifies the intended action from user input.</li>
  <li>The system identifies essential information which includes course names and topic names and assignment references.</li>
  <li>The system directs requests to specific handlers which handle particular tasks.</li>
</ul>

<p>
  <strong>Content Retrieval Service (HLD-201.2.2)</strong>:
</p>
<ul>
  <li>The system accesses relevant course materials through its connection to the Canvas Integration component.</li>
  <li>The system stores frequently accessed content in its local database to enhance system performance.</li>
  <li>The system performs semantic searches across course documents to locate relevant passages that match the context.</li>
  <li>The system works with the Scheduler component to determine the current study session details.</li>
</ul>

<p>
  <strong>AI Model Orchestration Service (HLD-201.2.3)</strong>:
</p>
<ul>
  <li>The system maintains active connections to its underlying large language model infrastructure.</li>
  <li>The system uses pre-defined prompt templates which optimize results for specific tutoring activities.</li>
  <li>The system streams model responses in real time to provide immediate user feedback.</li>
  <li>The system applies additional filters to ensure responses match both appropriateness standards and accuracy requirements.</li>
  <li>The system activates alternative processing systems when the main model becomes unavailable.</li>
</ul>

<p>
  <strong>Quiz Generation Service (HLD-201.2.4)</strong>:
</p>
<ul>
  <li>The system analyzes educational materials to discover essential subjects and essential learning targets.</li>
  <li>The system creates multiple question formats which match the subject matter requirements.</li>
  <li>The system uses spaced repetition methods to determine which topics need review first.</li>
  <li>The system adjusts question complexity based on student performance data from their past work.</li>
  <li>The system checks all generated questions for both their correct answers and their clear understanding.</li>
</ul>

<p>
  <strong>Explanation Service (HLD-201.2.5)</strong>:
</p>
<ul>
  <li>The system generates explanations at different levels based on user preference selection.</li>
  <li>The system creates educational examples from real-world situations to help students understand complex concepts.</li>
  <li>The system develops complete problem solutions which include all necessary intermediate steps.</li>
  <li>The system detects missing foundational knowledge areas and provides basic explanations to students.</li>
</ul>

<p>
  <strong>Summarization Service (HLD-201.2.6)</strong>:
</p>
<ul>
  <li>The system processes extensive reading materials and lecture notes and textbook sections.</li>
  <li>The system identifies essential information along with definitions and important theorems from the content.</li>
  <li>The system produces summaries at different levels of detail.</li>
  <li>The system shows students how different topics relate to each other through cross-referenced concepts.</li>
</ul>

<p>
  <strong>Recommendation Engine (HLD-201.2.7)</strong>:
</p>
<ul>
  <li>The system uses student performance data to detect knowledge deficits.</li>
  <li>The system reviews upcoming deadlines which the Scheduler component provides.</li>
  <li>The system uses a weighted scoring algorithm to determine study priority order.</li>
  <li>The system generates specific study recommendations which students can use at the beginning of their study sessions.</li>
</ul>

<h4>HLD-201.3: Data Layer</h4>
<p>
  <strong>Student Interaction Database (HLD-201.3.1)</strong>:
</p>
<ul>
  <li>The system stores all user interactions including conversations and queries and AI responses in this database.</li>
  <li>The system tracks student quiz performance through timestamped records that include difficulty levels.</li>
  <li>The system monitors which subjects students study and how long they spend on each subject.</li>
  <li>The system uses efficient retrieval methods to access previous user interactions from its database.</li>
</ul>

<p>
  <strong>Course Content Cache (HLD-201.3.2)</strong>:
</p>
<ul>
  <li>The system stores processed course materials which it retrieves from Canvas through this database.</li>
  <li>The system uses document vector embeddings for semantic search operations.</li>
  <li>The system implements expiration rules to update content that becomes outdated.</li>
  <li>The system organizes content by subject and module and topic to support efficient information retrieval.</li>
</ul>

<p>
  <strong>Model Configuration Store (HLD-201.3.3)</strong>:
</p>
<ul>
  <li>The system stores all prompt templates together with model parameters and tuning settings in this database.</li>
  <li>The system tracks all model updates and A/B testing results through its version control system.</li>
  <li>The system monitors model performance through response time measurements and accuracy rating assessments.</li>
</ul>

<h3>Component Interactions</h3>
<p>
  The AI Tutor system exchanges data with other system components through specific interfaces.
</p>

<h4>With Scheduler Component:</h4>
<ul>
  <li><strong>Input</strong>: The system receives study session information which includes course details and scheduled time and session objectives.</li>
  <li><strong>Output</strong>: The system generates time projections for students to perform their recommended study tasks.</li>
  <li><strong>Rationale</strong>: The tutoring system generates recommendations which match the available study time of students.</li>
</ul>

<h4>With Canvas Integration Component:</h4>
<ul>
  <li><strong>Input</strong>: The system fetches all course materials and assignment information and upcoming deadline schedules.</li>
  <li><strong>Output</strong>: The system generates particular content based on what students ask for.</li>
  <li><strong>Rationale</strong>: The system bases its tutoring responses on official course materials to maintain precise information.</li>
</ul>

<h4>With Gamification Component:</h4>
<ul>
  <li><strong>Input</strong>: The system accepts achievement standards and performance targets for student advancement.</li>
  <li><strong>Output</strong>: The system tracks student tutoring activities through their quiz completion rates and their study duration and their acquired subject knowledge.</li>
  <li><strong>Rationale</strong>: The system allows students to earn rewards through their participation in tutoring activities and their achievement of learning targets.</li>
</ul>

<h4>With Student Profile Component:</h4>
<ul>
  <li><strong>Input</strong>: The system accesses student learning preferences together with their past performance records and their disability requirements.</li>
  <li><strong>Output</strong>: The system maintains updated information about student topic understanding and learning performance metrics.</li>
  <li><strong>Rationale</strong>: The system delivers customized tutoring methods through its understanding of student-specific requirements.</li>
</ul>

<h3>Technology Stack</h3>
<ul>
  <li><strong>Frontend</strong>: The application uses React.js for building UI elements and Socket.io for enabling real-time chat functionality.</li>
  <li><strong>Backend</strong>: The API services operate through Node.js with Express while Python handles AI and machine learning processing tasks.</li>
  <li><strong>AI and Machine Learning</strong>: The system uses OpenAI GPT-4 API as its main model while LangChain handles prompt orchestration and Sentence Transformers generate embeddings.</li>
  <li><strong>Database</strong>: The system uses PostgreSQL for storing relational data and Pinecone or Weaviate for vector search operations.</li>
  <li><strong>Caching</strong>: The system uses Redis for handling user sessions and storing content data.</li>
</ul>

<h3>Data Flow Diagram</h3>
<pre class="mermaid">
graph TD
    A[Student] -->|Query| B[Chat Interface]
    B --> C[Query Processing Service]
    C --> D{Intent Classification}
    D -->|Question| E[Content Retrieval Service]
    D -->|Quiz Request| F[Quiz Generation Service]
    D -->|Explanation| G[Explanation Service]
    D -->|Summary| H[Summarization Service]
    E --> I[Canvas Integration]
    E --> J[Course Content Cache]
    F --> K[AI Model Orchestration]
    G --> K
    H --> K
    K --> L[LLM API]
    L --> K
    K --> M[Response]
    M --> B
    B --> A
    K --> N[Student Interaction DB]
    N --> O[Recommendation Engine]
    O --> P[Dashboard Module]
    P --> A
</pre>

<h3>Traceability Matrix: AI Tutor Requirements to Design Components</h3>
<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f0f0f0;">
      <th>Requirement ID</th>
      <th>Design Component(s)</th>
      <th>Rationale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FR-201.1</td>
      <td>HLD-201.2.1, HLD-201.2.3</td>
      <td>Query Processing Service handles natural language processing. AI Model Orchestration generates responses.</td>
    </tr>
    <tr>
      <td>FR-201.2</td>
      <td>HLD-201.2.2, HLD-201.3.2</td>
      <td>Content Retrieval Service fetches Canvas data. Content Cache stores it efficiently.</td>
    </tr>
    <tr>
      <td>FR-201.3</td>
      <td>HLD-201.2.4, HLD-201.3.1</td>
      <td>Quiz Generation Service creates adaptive quizzes. Interaction Database tracks performance.</td>
    </tr>
    <tr>
      <td>FR-201.4</td>
      <td>HLD-201.2.6</td>
      <td>Summarization Service provides multi-level reading comprehension.</td>
    </tr>
    <tr>
      <td>FR-201.5</td>
      <td>HLD-201.2.5, HLD-201.2.3</td>
      <td>Explanation Service generates multi-modal content using AI orchestration.</td>
    </tr>
    <tr>
      <td>FR-201.6</td>
      <td>HLD-201.2.7</td>
      <td>Recommendation Engine analyzes data and prioritizes study topics.</td>
    </tr>
    <tr>
      <td>FR-201.7</td>
      <td>HLD-201.3.1, HLD-201.1 Dashboard</td>
      <td>Interaction Database stores analytics. Dashboard Module visualizes progress.</td>
    </tr>
    <tr>
      <td>NFR-201.1</td>
      <td>HLD-201.3.2, Redis Caching</td>
      <td>Content caching and optimized data structures ensure fast response times.</td>
    </tr>
    <tr>
      <td>NFR-201.2</td>
      <td>HLD-201.2.3, HLD-201.2.2</td>
      <td>Model Orchestration includes confidence scoring. Content Retrieval grounds responses.</td>
    </tr>
    <tr>
      <td>NFR-201.3</td>
      <td>All Data Layer Components</td>
      <td>Encryption and authentication and FERPA-compliant data handling throughout the system.</td>
    </tr>
    <tr>
      <td>NFR-201.4</td>
      <td>Backend Architecture</td>
      <td>Microservices design with horizontal scaling and load balancing support.</td>
    </tr>
    <tr>
      <td>NFR-201.5</td>
      <td>HLD-201.1 Presentation Layer</td>
      <td>UI modules implement WCAG 2.1 AA standards with accessibility features.</td>
    </tr>
    <tr>
      <td>NFR-201.6</td>
      <td>HLD-201.3.3, HLD-201.2.3</td>
      <td>Model Configuration Store enables versioning. Orchestration Service supports updates.</td>
    </tr>
    <tr>
      <td>NFR-201.7</td>
      <td>All HLD-201 Components</td>
      <td>RESTful APIs and event-driven architecture ensure loose coupling between components.</td>
    </tr>
  </tbody>
</table>

<u><h2>UI</h2></u>
The UI is the interactive layer between the user and the backend, which will be made using object-oriented architecture. The goal will be to maximize efficiency, maintainability, and reliability because the website should not be bogged down from visuals.
    
    <h2><b>UI Diagram</b></h2>
    <b>Header Module:</b> Provides the navigation for users by including embedded links to access various parts of the website.<br>
    <b>Footer Module:</b> Provides information about the website, and social media links.<br>
    <b>Buttons Module:</b> Handles all the user interactions for approving information, clicking on links or confirming actions.<br>
    <b>Text Field Module:</b> Handles all the user interactions for adding information about their schedules and for communication with the AI tutor.<br>
    <b>Dashboard Module:</b> Displays the users' schedule, and previous tutoring sessions.<br>
    <b>Timeout Module:</b> Ensures the user is logged out for inactivity for security reasons.<br>
    
    <h2><b>Languages/Libraries</b></h2>
    ·         React/TypeScript will be used to create all the visuals and charts because they provide a live reactive display.<br>
    ·         CSS will be used to change color and improve the aesthetics with padding and margins.<br>
    
    <h2><b>Modules</b></h2>
    
    <h3><b>Header Module</b></h3>
    <b>Purpose:</b> Provides navigation to the different pages and displays if the user is signed in.<br>
    <b>Class:</b> Header<br>
    <b>Responsibilities:</b><br>
    ·         Display Navigation links to the main pages [FR-303]<br>
    ·         Maintain a constant position at the top of the screen [FR-304]<br>
    ·         Change with the screen. [FR-305]<br>
    
    <h3><b>Footer Module</b></h3>
    <b>Purpose:</b> Display website information and social media links<br>
    <b>Class:</b> Footer<br>
    <b>Responsibilities:</b><br>
    ·         Show website "about us" links and social media links. [FR-304]<br>
    ·         Remain at the bottom of the page. [NFR-304]<br>
    
    <h3><b>Buttons Module</b></h3>
    <b>Purpose:</b> Allow users to interact with the system.<br>
    <b>Classes:</b> Any that involves a click interaction.<br>
    <b>Responsibilities:</b><br>
    ·         Allow users to approve message or send information. [FR-301]<br>
    ·         Complete backend information for the AI tutor or confirmation for a link. [FR-301,303].<br>
    
    <h3><b>Text Field Module</b></h3>
    <b>Purpose:</b> Allow users to add information into text boxes/<br>
    <b>Class:</b> Schedule, AITutor, Profile<br>
    <b>Responsibilities:</b><br>
    ·         Provide text boxes and ability for input. This will allow users to add information for tutors, set up their profile, and set up their schedule. [FR-302]<br>
    ·         Send error message in case backend is not up or AI is down. [NFR-303]<br>
    ·         Store data for signed-in users. [NFR-304]<br>
    
    <h3><b>Dashboard Module</b></h3>
    <b>Purpose:</b> Display users tutoring history and progress with schedule achievements.<br>
    <b>Classes:</b> Dashboard, Achievements, Data<br>
    <b>Responsibilities:</b><br>
    ·         Display academic progress, and AI tutoring sessions. [FR-306]<br>
    ·         Access backend data/ [NFR-301,NFR-302]<br>
    
    <h3><b>Timeout Module</b></h3>
    <b>Purpose:</b> Manage user activity for timeout.<br>
    <b>Class:</b> Timeout<br>
    <b>Responsibilities:</b><br>
    ·         Monitor time of inactivity and display a warning. [FR-307]<br>
    ·         Log out user and send them to a inactivity screen. [NFR-304]<br>

<table border="1" cellspacing="0" cellpadding="6">
  <tr>
    <th>Design Decision</th>
    <th>Supports Requirements</th>
  </tr>
  <tr>
    <td><b>D1:</b> Keep the layout clean and consistent</td>
    <td>FR-303, FR-304, NFR-301, NFR-302</td>
  </tr>
  <tr>
    <td><b>D2:</b> Prioritize fast and responsive feedback</td>
    <td>FR-301, FR-302, NFR-301, NFR-303</td>
  </tr>
  <tr>
    <td><b>D3:</b> Use modular, reusable components</td>
    <td>FR-304, FR-305, NFR-302</td>
  </tr>
  <tr>
    <td><b>D4:</b> Validate and guide user input early</td>
    <td>FR-302, NFR-303</td>
  </tr>
  <tr>
    <td><b>D5:</b> Design for accessibility and adaptability</td>
    <td>FR-305, NFR-303</td>
  </tr>
  <tr>
    <td><b>D6:</b> Maintain smooth session and error handling</td>
    <td>FR-307, NFR-304, NFR-303</td>
  </tr>
  <tr>
    <td><b>D7:</b> Keep visuals lightweight and efficient</td>
    <td>NFR-301, NFR-302</td>
  </tr>
  <tr>
    <td><b>D8:</b> Protect user data and maintain privacy</td>
    <td>FR-307, NFR-304</td>
  </tr>
</table>
<u><h2>Scheduler</h2></u>
<h3>Overall Design</h3>
<h3>Required Frameworks/External Libraries</h3>
<ul>
  <li><b>ChatGPT/Openai API:</b> This will be the LLM used to generate the schedules. </li>
  <li><b>Canvas: </b>This will be used to gather user's assignments, due dates, and events</li>
</ul>
<img src="assets/images/schedule_HLD.png" class="image">
<p><b>Data Integration Layer:</b> This will be used to gather prerequisite data to send to the AI companion to start the schedule generation process. The prerequisite date includes: assignments
  from the user's profile on Canvas (due dates and names), user's preferred gym hours, study hours, breaks, personal time, and any other extracurriculars that the user would like to be on 
  their schedule.
</p>
<p><b>Main Schedule Generation Layer:</b> This is where the schedule will be generated for a user. The AI Companion will have received data from the data integration layer, and will 
  create an effective and manageable schedule. Any edits from the frontend are then communicated back to the AI Companion that will update and change the schedule, which will then reflect back to the frontend.
</p>
<p><b>Database:</b> This is where the user's schedules will be stored. Previous schedules will be stored so that the AI Companion can refer to them and learn from any changes from the user. This way
  the AI Companion can create more effective schedules for its user.
</p>
<p><b>Frontend Layer:</b> The frontend layer will be displayed to the user. Specifically, it will show the calendar with the schedule that the AI Companion had created, and from there,
  the system will notiy users about upcoming due dates or any assignment changes. Moreover, the user is able to make edits to the schedule that will then be sent back to the AI Companion to 
  update the schedule.
</p>
<h3>Data Integration</h3>
<ul>
  <li><b>Classes:</b> API Data and User Data</li>
  <li>Responsibilities:</li>
  <ul>
    <li>Grab data from 3rd party APIs (Canvas) to get user's classes, assignments, and due dates. (FR-402, NFR-407, NFR-408)</li>
    <li>Query the user for specific constraints they would like to have for the schedule. (FR-401, FR-403)</li>
    <li>Formatting and cleaning data for the AI Companion.</li>
    <li>Grabbing consent from the user to be able to use their sensitive student infromation. (NFR-409)</li>
  </ul>
</ul>
<h3>Main Schedule Generation</h3>
<ul>
  <li><b>Classes:</b> AI Companion, User Edits, Schedule</li>
  <li>Responsibilities:</li>
  <ul>
    <li>Receive data from the Data Integration Layer to query LLM to generate the user's schedule. (FR-404, NFR-401)</li>
    <li>Keep checking data from API Data to ensure the system is in synch with Canvas and the user's assignments and classes and make any necessary changes and updates to the user's schedule. (FR-405, NFR-402, NFR-403, NFR-411)</li>
    <li>Notify the user when any updates/changes to the schedule were made. (FR-407)</li>
    <li>Learning from any manual changes from the user and from previous schedules in the database. (NFR-410)</li>
  </ul>
</ul>
<h3>Database</h3>
<ul>
  <li>Responsibilities:</li>
  <ul>
    <li>Store any edits that the user has made. (NFR-404, NFR-405)</li>
    <li>Store previous weeks' schedules. </li>
    <li>Keep a history of schedules so that the AI Companion can use them to learn and hone in on the user's preferences. (NFR-410) </li>
  </ul>
</ul>
<h3>Frontend Layer</h3>
<ul>
  <li><b>Classes:</b> User Edits, Calendar, Notification System, User Feedback</li>
  <li>Responsibilities:</li>
  <ul>
    <li>Ensure the user is able to interact with the visual schedule to make any necessary changes. (FR-406, FR-412)</li>
    <li>Taking the schedule from the AI Companion and displaying it nicely to the user. (FR-411) </li>
    <li>Constantly notifying the user when any changes to the schedule have been made and synchronizations from Canvas.(FR-407) </li>
    <li>Notify the user for when the AI Companion recommends any new habits the user should adopt to keep the schedule. (FR-409) </li>
    <li>Any feedback the AI Companion requests will be presented here and any feedback will be send back to the AI Companion. (FR-408, FR-410) </li>
  </ul>
</ul>
<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f0f0f0;">
      <th>Requirement ID</th>
      <th>Design Component(s)</th>
      <th>Rationale</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>FR-401</td>
      <td>User Data</td>
      <td>Storing user specified data to further personalize schedules.</td>
    </tr>
    <tr>
      <td>FR-402</td>
      <td>API Data Integration</td>
      <td>Obtaining user's student information to generate schedules around classes</td>
    </tr>
    <tr>
      <td>FR-403</td>
      <td>User Data</td>
      <td>Increase user information to include blocks of free time for personal use for users.</td>
    </tr>
    <tr>
      <td>FR-404</td>
      <td>AI Companion</td>
      <td>AI will utilize the information to create optimized schedules.</td>
    </tr>
    <tr>
      <td>FR-405</td>
      <td>AI Companion</td>
      <td>AI will respond to any updates to create a new schedule that contains the updates.</td>
    </tr>
    <tr>
      <td>FR-406</td>
      <td>User Edits</td>
      <td>User is able to make edits to schedule to refine schedule.</td>
    </tr>
    <tr>
      <td>FR-407</td>
      <td>Notification System</td>
      <td>User is able to be notified of any changes/updates to the system and their schedules.</td>
    </tr>
    <tr>
      <td>FR-408</td>
      <td>User Feedback</td>
      <td>User is able to query AI on why certain design decisions of the schedule were made, and provide feedback.</td>
    </tr>
    <tr>
      <td>FR-409</td>
      <td>User Feedback</td>
      <td>AI will provide feedback to the user regarding sleeping habits to ensure they are able to maintain the schedule.</td>
    </tr>
    <tr>
      <td>FR-410</td>
      <td>User Feedback</td>
      <td>User is able to provide feedback regarding their schedules so that the AI can learn and become more personalized and efficient.</td>
    </tr>
    <tr>
      <td>FR-411</td>
      <td>Calendar</td>
      <td>User will be provided an interactable visual of their schedule.</td>
    </tr>
    <tr>
      <td>FR-412</td>
      <td>Calendar</td>
      <td>User is able to change the calendar so that it is more refined and personalized.</td>
    </tr>
    <tr>
      <td>NFR-401</td>
      <td>Data Integration Layer</td>
      <td>Perfomring API calls should be quick and seamless</td>
    </tr>
    <tr>
      <td>NFR-402</td>
      <td>Data Integration Layer</td>
      <td>Constant checks to APIs will ensure system is synchronized with enducational tools.</td>
    </tr>
    <tr>
      <td>NFR-403</td>
      <td>User Feeback</td>
      <td>Constant requests for user feedback will ensure AI is creating optimized schedules.</td>
    </tr>
    <tr>
      <td>NFR-404</td>
      <td>Database, Frontend Layer</td>
      <td>Storing data using an external database will allow for a much larger number of users to be able to use the AI academic companion at once.</td>
    </tr>
    <tr>
      <td>NFR-405</td>
      <td>AI Companion, Frontend Layer</td>
      <td>Using an LLM that supports large amounts of users without performance drop off.</td>
    </tr>
    <tr>
      <td>NFR-406</td>
      <td>Data Integration Layer</td>
      <td>Using an API that will be able to look up a student's information regardless of what school they are enrolled in.</td>
    </tr>
    <tr>
      <td>NFR-407</td>
      <td>Data Integration Layer</td>
      <td>Ensure secruity through two factor authentication.</td>
    </tr>
    <tr>
      <td>NFR-408</td>
      <td>Entire System</td>
      <td>Ensure any data being transmitted between layers is encrypted.</td>
    </tr>
    <tr>
      <td>NFR-409</td>
      <td>Entire System</td>
      <td>Consent is requested whenver new actions are being performed on student data.</td>
    </tr>
    <tr>
      <td>NFR-410</td>
      <td>Database</td>
      <td>Store previous iterations of schedules so that the AI can learn how a user prefers their schedules.</td>
    </tr>
    <tr>
      <td>NFR-411</td>
      <td>Data Integration Layer, AI Companion</td>
      <td>Any changes from Canvas and other educational tools are provided to AI to ensure updated schedules.</td>
    </tr>
  </tbody>
</table>

<div class="brand">
      <h1>CS 5744 — AI Academic Companion </h1>
      <small class="small">Rami Ghaleb - Ethan Crouse - Hamza Sethi - Nart Hakij - Shoaib Cheema</small>
    </div>
    <nav>
      <a href="index.html" class="">Background</a> <a href="requirements.html" class="">Requirements</a>  <a href="high-level-design.html" class="">High Level Design</a> <a href="rationale.html" class="current">Design Rationale</a>  <a href="full-text.html" class="">Full Text</a>
    </nav>
  </div>
</header>
<main>
  <div class="wrapper">
<h1>Design Rationale</h1>

<u><h2>Game and Achievement Functionality</h2></u>
<h3>Using Modulars for Game System</h3>
<p>Supports: FR-001, FR-002, FR-003, FR-004, NFR-003</p>
<p>The decision to divide the game subsystem into four modulars: Connector, Progression, Social, and Admin ensures the maintainability and scalability. Each modular has a defined purpose allowing the developers to pinpoint where changes need to be made upon extending functionality without breaking the entire system.</p>
<h3>Using Event Driven Architecture</h3>
<p>SUpports: FR-003, FR-004, FR-005, FR-009, NFR-001</p>
<p>Having the system has events such as award given, allows for updates to be triggered in sync allowing for processes to happen in parallel. It ensures that XP and streak updates happen in background in less than second.</p>
<h3>Scoring</h3>
<p>Supports: FR-001, FR-002, FR-003, FR-005, FR-011</p>
<p>In the Prgoression implementing the system ensures that XP and achievements are calculated in a way that is easy to follow and reprducible. By removing ambiguity in the reward system the developers are able to audit, test, and recompute progress when rules are changed. </p>
<h3>Admin and Backfill</h3>
<p>Supports: FR-001, NFR-003</p>  
<p>By providing an Admin module we are able to make changes such as updating the catelog of wards and recompute awards when we have errors or need routine maintenance without having to change the code.</p>
<h3>Anti-Cheat and Input Validation</h3>
<p>Supports: FR-010, NFR-002, NFR-003</p>
<p>By validating and flagging suspicoud events, or input data before being passed to the progression modular we are able to prevent any bad or suspicious data from getting to the game engine which would risk hackers and false data from getting into the game.</p>

<u><h2>Upload Profile</h2></u>
<section id="rationale-upload-profile">
  <!-- <h3>D1: Extension-adjacent import with adapters</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#FR-101">FR-101</a>, <a href="requirements.html#NFR-101">NFR-101</a>.  
  <strong>Decision:</strong> Use Canvas and Calendar adapters behind an API Gateway; keep import initiation in the extension context.  
  <strong>Why:</strong> Encapsulates provider quirks and enforces least-privilege scopes while keeping the workflow in context.</p>

  <h3>D2: Versioned profiles plus immutable audit</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#FR-105">FR-105</a>, <a href="requirements.html#NFR-104">NFR-104</a>.  
  <strong>Decision:</strong> Each import writes a new immutable version and appends audit metadata.  
  <strong>Why:</strong> Safe rollback and traceability for debugging/compliance.</p>

  <h3>D3: Asynchronous import pipeline</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#NFR-102">NFR-102</a>.  
  <strong>Decision:</strong> Acknowledge fast (202 + jobId) and process heavy parsing/normalization in background workers.  
  <strong>Why:</strong> Meets latency targets and isolates spikes from provider APIs.</p>

  <h3>D4: Resilience to third-party outages</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#NFR-103">NFR-103</a>, <a href="requirements.html#FR-101">FR-101</a>, <a href="requirements.html#FR-103">FR-103</a>.  
  <strong>Decision:</strong> Permit file-based import when adapters are unavailable; queue retries and mark state “stale.”  
  <strong>Why:</strong> Preserves core functionality despite LMS/calendar downtime.</p>

  <h3>D5: Schema mapping, validation, and de-duplication</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#FR-106">FR-106</a>, <a href="requirements.html#FR-107">FR-107</a>, <a href="requirements.html#FR-108">FR-108</a>, <a href="requirements.html#FR-109">FR-109</a>.  
  <strong>Decision:</strong> Central mapping table + validator + duplicate detector + version hashing for idempotency.  
  <strong>Why:</strong> Ensures clean, consistent inputs and avoids redundant versions.</p>

  <h3>D6: Constraints as rules</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#FR-111">FR-111</a>.  
  <strong>Decision:</strong> Represent constraints as RRULE-style rules with exceptions and priority.  
  <strong>Why:</strong> Deterministic for downstream planning; compact and expressive.</p>

  <h3>D7: Security, access control, and compliance</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#FR-113">FR-113</a>, <a href="requirements.html#NFR-109">NFR-109</a>, <a href="requirements.html#NFR-110">NFR-110</a>, <a href="requirements.html#NFR-111">NFR-111</a>.  
  <strong>Decision:</strong> Owner-only access; tokens in KMS; FERPA-aligned deletion; backward-compatible schema evolution.  
  <strong>Why:</strong> Protects student data and maintains institutional trust over time.</p>

  <h3>D8: Observability & guardrails</h3>
  <p><strong>Reqs:</strong> <a href="requirements.html#NFR-106">NFR-106</a>, <a href="requirements.html#NFR-107">NFR-107</a>, <a href="requirements.html#NFR-108">NFR-108</a>, <a href="requirements.html#NFR-112">NFR-112</a>.  
  <strong>Decision:</strong> Correlated logs/metrics, adapter rate limits with backoff, storage bounds per version, and backups with defined RPO/RTO.  
  <strong>Why:</strong> Fast troubleshooting, protection from abuse, and recoverability.</p> -->
  <h3>D1: Keep import simple and in context</h3>
  <p><strong>Supports:</strong> FR-101, NFR-101.  
  We start the import where students already are and bring in only what is needed. This reduces confusion and risk.</p>

  <h3>D2: Save each import as a version</h3>
  <p><strong>Supports:</strong> FR-105, FR-112, NFR-104.  
  Versions make changes easy to understand and easy to undo. The audit record shows when and where data came from.</p>

  <h3>D3: Do basic checks and cleanup</h3>
  <p><strong>Supports:</strong> FR-106, FR-107, FR-108, FR-109.  
  Mapping, validation, duplicate handling, and “same data” checks keep the profile clean and stable.</p>

  <h3>D4: Store time blocks as simple rules</h3>
  <p><strong>Supports:</strong> FR-111.  
  A small rules format (repeat, exceptions, priority) is easy to read and reuse later.</p>

  <h3>D5: Read calendars to spot overlaps</h3>
  <p><strong>Supports:</strong> FR-103, FR-115.  
  Reading events (not writing) is enough to warn about conflicts and keep a short summary.</p>

  <h3>D6: Be fast and steady</h3>
  <p><strong>Supports:</strong> NFR-102, NFR-103, NFR-105, NFR-106, NFR-107.  
  Start quickly, finish heavy work in the background, handle slow services gracefully, and keep simple logs and counters.</p>

  <h3>D7: Protect data and remain compliant</h3>
  <p><strong>Supports:</strong> FR-113, NFR-109, NFR-110, NFR-111, NFR-112.  
  Limit access to owners, manage secrets safely, support delete-on-request, keep old data usable, and keep backups.</p>
</section>

<u><h2>AI Tutor</h2></u>

<h3>Overview</h3>
<p>
  The AI Tutor stands as the most advanced and innovative element within the AI Academic Companion. Our design approach 
  focuses on delivering precise results and individualized solutions which seamlessly integrate with current educational 
  systems. The system design protects student information privacy while maintaining its ability to expand. The following 
  section explains the fundamental design choices which were implemented for this component.
</p>

<h3>Key Design Decisions</h3>

<h4>Decision 1: The system uses a structured design with distinct sections which handle different functions</h4>
<p><strong>Driven by Requirements:</strong> NFR-201.6 (Maintainability) and NFR-201.7 (Integration Compatibility)</p>
<p><strong>Decision:</strong> The system uses a three-layered structure which separates Presentation from Business Logic and Data. The system contains three distinct layers which maintain defined interfaces between them.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Maintainability</strong>: The system enables AI model updates through separate layers which prevent changes to presentation or data layers. The system enables independent development and testing and deployment of each layer.</li>
  <li><strong>Testability</strong>: The system enables developers to perform unit testing on individual services because each service has defined boundaries.</li>
  <li><strong>Scalability</strong>: The system allows different layers to scale independently based on system load requirements. The AI Model Orchestration Service enables horizontal scaling during peak usage without requiring the entire system to scale.</li>
  <li><strong>Team Collaboration</strong>: Different team members can work on separate layers without creating merge conflicts or dependencies.</li>
</ul>
<p><strong>Alternatives Considered:</strong></p>
<ul>
  <li><strong>Monolithic Architecture</strong>: The monolithic design approach received rejection because it merged AI processing with UI logic into a single unit. The tight integration between AI processing and UI logic makes system updates dangerous and testing procedures complicated.</li>
  <li><strong>Event-Driven Microservices</strong>: The event-driven microservices approach delivers exceptional scalability but the team decided against its implementation for our first deployment. The system would experience increased delays when students used the tutoring service for synchronous learning.</li>
</ul>

<h4>Decision 2: External LLM API vs. Self-Hosted Model</h4>
<p><strong>Driven by Requirements:</strong> FR-201.1 (NLP Query Interface) and NFR-201.1 (Response Time) and 
  NFR-201.2 (Accuracy) and NFR-201.6 (Maintainability)</p>
<p><strong>Decision:</strong> The system depends on a commercial large language model API for its primary inference operations. The system operates without maintaining its own open-source model.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Accuracy and Capability</strong>: The current commercial large language models demonstrate superior performance than most open-source alternatives. The models demonstrate exceptional performance in reasoning tasks and instruction execution and factual information accuracy. Educational applications require these specific capabilities because students need accurate information to learn effectively.</li>
  <li><strong>Reduced Infrastructure Costs</strong>: The API pricing model provides better cost predictability than self-hosted model deployment because it scales with actual usage.</li>
  <li><strong>Automatic Updates</strong>: The API providers maintain model updates through automatic processes which eliminate the need for our team to perform model retraining or fine-tuning. The system receives automatic state-of-the-art model improvements through our subscription.</li>
  <li><strong>Faster Time to Market</strong>: The integration process for APIs takes only a few days to complete. The deployment process for self-hosted models requires multiple months of optimization work.</li>
  <li><strong>Response Time</strong>: The system provides streaming responses through its modern large language model API. The system uses a worldwide content delivery network (CDN) for distribution. The system provides features which match or surpass the performance of self-hosted solutions.</li>
</ul>
<p><strong>Trade-offs:</strong></p>
<ul>
  <li><strong>Privacy Concerns</strong>: The process of sending student queries to external APIs creates privacy risks regarding student data. We protect student data privacy through query anonymization. The system removes all personal information from the data. The system protects data through encryption during its transfer process. The system selects providers who follow FERPA regulations.</li>
  <li><strong>Vendor Lock-in</strong>: The AI Model Orchestration Service includes a provider-agnostic interface which enables seamless transitions between different large language model providers.</li>
  <li><strong>Cost at Scale</strong>: The costs of API services will increase when the system reaches its projected usage threshold. The system tracks usage patterns. The system stores frequently asked questions in memory for faster access. The system uses smaller less expensive models for basic questions while using external APIs for complex tasks.</li>
</ul>
<p><strong>Future Evolution</strong>: The system enables future development through its abstraction layer which allows switching between external and self-hosted models. The system uses self-hosted models for basic queries but external APIs for complex reasoning tasks.</p>

<h4>Decision 3: Context-Aware Tutoring via Canvas Integration</h4>
<p><strong>Driven by Requirements:</strong> FR-201.2 (Canvas Content Integration) and NFR-201.2 (Accuracy)</p>
<p><strong>Decision:</strong> The AI Tutor retrieves and indexes course content from Canvas. This grounds responses in official course materials. The system does not rely solely on the large language model's pre-trained knowledge.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Accuracy and Relevance</strong>: Large language models can hallucinate facts. They may provide generic information that does not align with specific course content. By retrieving the professor's lecture notes and assigned readings and syllabi we ensure tutoring aligns with what students are actually expected to learn.</li>
  <li><strong>Instructor Autonomy</strong>: The teaching methods of professors allow them to present subjects through alternative approaches while focusing on specific conceptual frameworks. The use of course-specific materials for response development upholds the instructional design principles that instructors established.</li>
  <li><strong>Up-to-Date Information</strong>: The content of courses undergoes periodic modifications between academic semesters. The Canvas integration system provides the tutor with current information without requiring manual updates.</li>
</ul>
<p><strong>Implementation Approach:</strong></p>
<ul>
  <li>Use <strong>Retrieval-Augmented Generation (RAG)</strong>: The Content Retrieval Service performs semantic search across indexed Canvas documents when students submit their questions. The search system identifies relevant sections from the documents. The system includes retrieved passages as additional information which serves as input for the large language model to generate responses.</li>
  <li><strong>Vector Embeddings</strong>: The process of converting course documents into vector embeddings uses Sentence Transformers. The system maintains these vector representations in a vector database. The system enables users to perform quick semantic similarity searches.</li>
  <li><strong>Chunking Strategy</strong>: The system divides documents into sections which contain 500 words of content. The system uses overlapping sections to connect different parts of the document. The system maintains semantic coherence between retrieved passages through this approach.</li>
</ul>
<p><strong>Challenges and Mitigations:</strong></p>
<ul>
  <li><strong>Challenge</strong>: The system faces a challenge because not all educational materials exist in formats that machines can read. The PDF documents contain scanned images instead of text.
    <br><strong>Mitigation</strong>: The system will perform OCR scanning on scanned documents and provide alternative text when needed from professor-supplied content.</li>
  <li><strong>Challenge</strong>: The Canvas API imposes rate limits which could lead to delayed content retrieval.
    <br><strong>Mitigation</strong>: Implement aggressive caching. Use background refresh jobs that pre-fetch content during off-peak hours.</li>
</ul>

<h4>Decision 4: Adaptive Quiz Generation with Spaced Repetition</h4>
<p><strong>Driven by Requirements:</strong> FR-201.3 (Adaptive Quiz Generation) and FR-201.7 (Progress Tracking)</p>
<p><strong>Decision:</strong> We implement an adaptive quiz system that adjusts difficulty based on student performance. The system applies spaced repetition principles to reinforce learning.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Personalized Learning</strong>: Research shows adaptive assessments improve learning outcomes. They keep students in their zone of proximal development. This means challenging enough to promote growth without causing frustration.</li>
  <li><strong>Efficient Study Time</strong>: Spaced repetition revisits concepts at increasing intervals. This approach is proven to enhance long-term retention. By prioritizing topics the student is likely to forget we make study sessions more effective.</li>
  <li><strong>Engagement</strong>: Adaptive quizzes feel responsive and personalized. This increases student motivation compared to static practice problems.</li>
</ul>
<p><strong>Implementation Details:</strong></p>
<ul>
  <li><strong>Difficulty Adjustment Algorithm</strong>: Track student performance per topic using an Elo-like rating system. If a student consistently answers questions correctly increase difficulty. Provide more complex problems and multi-step reasoning. If struggling provide simpler foundational questions.</li>
  <li><strong>Spaced Repetition</strong>: Use the SM-2 algorithm to schedule topic reviews. Topics mastered recently are reviewed less frequently. Topics where the student struggled are reviewed sooner.</li>
  <li><strong>Question Generation</strong>: Leverage the large language model to generate diverse question types. These include multiple choice and short answer and code completion from course content. Validate generated questions by checking against answer keys or instructor-provided materials when available.</li>
</ul>
<p><strong>Alternatives Considered:</strong></p>
<ul>
  <li><strong>Static Question Banks</strong>: Easier to implement but lacks personalization. The approach becomes repetitive.</li>
  <li><strong>Manual Question Curation</strong>: Ensures high quality but does not scale across diverse courses. It requires significant instructor effort.</li>
</ul>

<h4>Decision 5: Multi-Level Explanations and Learning Styles</h4>
<p><strong>Driven by Requirements:</strong> FR-201.5 (Concept Explanation with Multi-Modal Learning) and 
  NFR-201.5 (Usability and Accessibility)</p>
<p><strong>Decision:</strong> We provide explanations at multiple levels of detail. These levels include brief and moderate and comprehensive. We use diverse instructional methods. These methods include text and analogies and step-by-step breakdowns and visual aids.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Diverse Learning Preferences</strong>: Students learn differently. Some prefer concise overviews. Others need detailed walkthroughs. Offering choice increases effectiveness across the student population.</li>
  <li><strong>Time Constraints</strong>: A student with 10 minutes before class benefits from a quick summary. A student with an hour benefits from a deep dive. Multi-level explanations respect time availability.</li>
  <li><strong>Cognitive Load Management</strong>: Starting with simple explanations and allowing students to request more detail prevents overwhelming beginners. This approach still supports advanced learners.</li>
  <li><strong>Accessibility</strong>: Some students benefit from visual aids or analogies. This includes those with learning disabilities. Multi-modal approaches align with Universal Design for Learning principles.</li>
</ul>
<p><strong>Implementation:</strong></p>
<ul>
  <li>Prompt the large language model with explicit instructions. For example: Explain this concept briefly in 2 to 3 sentences. Or: Provide a comprehensive explanation with examples and analogies.</li>
  <li>Visual learners should integrate with diagram generation APIs for their learning needs. The system uses Mermaid.js to create flowcharts which help users understand algorithms and data structures.</li>
  <li>The system provides two modes of explanation for users to understand concepts at different levels. The system provides two modes of operation for users to choose between basic explanations for beginners and detailed technical information for exam preparation.</li>
</ul>

<h4>Decision 6: Privacy-First Data Architecture</h4>
<p><strong>Driven by Requirements:</strong> NFR-201.3 (Privacy and Data Security)</p>
<p><strong>Decision:</strong> The AI Tutor pipeline uses end-to-end encryption together with data anonymization and FERPA-compliant data handling methods for complete protection.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Legal Compliance</strong>: The law requires educational institutions to protect student records under FERPA regulations. The loss of federal funding becomes possible when institutions fail to comply with FERPA regulations. The system needs to fulfill all requirements which exceed the minimum standards.</li>
  <li><strong>Trust and Adoption</strong>: Students will adopt the system and use it honestly because they feel secure about their privacy.</li>
  <li><strong>Ethical Responsibility</strong>: Students who discuss their academic mistakes or misunderstandings need their information to remain confidential.</li>
</ul>
<p><strong>Key Privacy Measures:</strong></p>
<ul>
  <li><strong>Encryption</strong>: The system uses TLS 1.3 for secure data transmission through encryption and AES-256 for protecting data stored in databases.</li>
  <li><strong>Anonymization</strong>: The system removes all personal information from external large language model API requests through anonymization processes. The system removes all student identification information and personal names from queries. The system stores all analytics data in aggregated form.</li>
  <li><strong>Access Controls</strong>: The system implements role-based access control to restrict student data access to authorized services. Students maintain full control to delete their tutoring records whenever they want.</li>
  <li><strong>Audit Logging</strong>: The system maintains complete records of all data access activities for compliance inspections without revealing any content information.</li>
  <li><strong>Vendor Selection</strong>: The system selects vendors who provide Business Associate Agreements that fulfill FERPA compliance requirements.</li>
</ul>

<h4>Decision 7: Modular Service-Oriented Design for Business Logic</h4>
<p><strong>Driven by Requirements:</strong> NFR-201.6 (Maintainability) and NFR-201.7 (Integration Compatibility)</p>
<p><strong>Decision:</strong> The Business Logic Layer consists of separate services which perform Query Processing and Content Retrieval and Quiz Generation and Explanation and Summarization and Recommendation. The system operates without using a single monolithic tutoring engine.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Single Responsibility Principle</strong>: Each service maintains a single defined responsibility which makes the system easier to understand and decreases the number of programming errors.</li>
  <li><strong>Independent Evolution</strong>: The system allows developers to enhance the Quiz Generation algorithm without affecting the Summarization Service operations. The system maintains lower risk of regression because of this approach.</li>
  <li><strong>Parallel Development</strong>: The system enables team members to work on separate services at the same time.</li>
  <li><strong>Selective Scaling</strong>: The system enables users to distribute resources between quiz generation and summarization functions based on their current usage levels.</li>
  <li><strong>Testability</strong>: The system enables developers to test individual service components through mock interface creation.</li>
</ul>
<p><strong>Communication Pattern</strong>: The system uses RESTful APIs for synchronous requests between services but message queues for handling asynchronous background tasks such as content indexing.</p>

<h4>Decision 8: Recommendation Engine with Multi-Factor Prioritization</h4>
<p><strong>Driven by Requirements:</strong> FR-201.6 (Study Session Recommendations) and FR-201.7 (Progress Tracking)</p>
<p><strong>Decision:</strong> The system uses a weighted scoring algorithm to generate study recommendations for study activities. The algorithm evaluates student performance based on three factors which include deadline urgency and topic difficulty and knowledge gaps.</p>
<p><strong>Rationale:</strong></p>
<ul>
  <li><strong>Balances Multiple Concerns</strong>: The system handles multiple student requirements by letting them prepare for upcoming deadlines and work on their fundamental knowledge gaps and challenging subjects. A single-factor approach fails to support long-term learning needs. The system fails to detect knowledge gaps when it focuses only on upcoming deadlines.</li>
  <li><strong>Data-Driven Personalization</strong>: The system uses performance data from quizzes and time spent on topics to detect student weaknesses which it uses for recommendation purposes.</li>
  <li><strong>Transparent and Tunable</strong>: The system allows users to modify its scoring mechanism through feedback collection and performance testing results analysis.</li>
</ul>
<p><strong>Formula Details:</strong></p>
<ul>
  <li><strong>Urgency</strong>: The system calculates urgency by dividing deadline proximity to the semester maximum number of days. The system normalizes this value between 0 and 1.</li>
  <li><strong>Difficulty</strong>: The system uses historical class-wide average quiz scores to determine topic difficulty levels. Students face more challenging topics when their quiz scores are lower.</li>
  <li><strong>Knowledge Gap</strong>: The system calculates knowledge gaps by subtracting student performance from class average performance then dividing by class average performance.</li>
</ul>
<p><strong>User Control</strong>: Users maintain complete control to modify system recommendations. Users can select specific topics for study through the system but the system provides default recommendations which most users find reliable.</p>

<h3>Integration and Evolution Considerations</h3>

<h4>Scheduler Integration</h4>
<p>
  The AI Tutor receives context about the current study session from the Scheduler component. This allows the tutor to automatically suggest relevant topics without requiring manual input. For example if the scheduler indicates a CS 5744 study block with 2 hours available the tutor proactively offers recommendations. The tutor might say: You have 2 hours for CS 5744. I recommend reviewing Design Patterns. The exam is in 3 days. You scored 60% on the last quiz. Would you like a summary or practice quiz?
</p>

<h4>Gamification Integration</h4>
<p>
  The AI Tutor generates progress information which the Gamification system uses for its operations. The system tracks student performance through their completed quizzes and their study streaks and their mastery of specific topics. The system operates through a continuous feedback mechanism. The Gamification system uses rewards to motivate students to use the tutoring service. The tutoring system generates substantial achievements which surpass random rewards.
</p>

<h4>Future Enhancements</h4>
<ul>
  <li><strong>Collaborative Learning</strong>: The system enables students to study together with the AI Tutor through collaborative learning sessions. The system enables students to learn from each other through peer-to-peer interaction.</li>
  <li><strong>Instructor Dashboard</strong>: The system provides instructors with a dashboard that shows anonymous student performance data to identify their most challenging subjects. The system enables teachers to modify their teaching content based on student performance data.</li>
  <li><strong>Voice Interface</strong>: The system enables users to access tutoring services through voice commands which allow them to use their voice for text-to-speech and speech-to-text functions during their daily activities.</li>
  <li><strong>Advanced Personalization</strong>: The system uses advanced personalization techniques to optimize smaller open-source models through institutional data analysis. The system optimizes its performance to match the educational materials and teaching methods used at Virginia Tech.</li>
</ul>

<h3>Conclusion</h3>
<p>
  The AI Tutor system achieves a perfect equilibrium between state-of-the-art artificial intelligence functionality and operational engineering limitations. The system designers implemented a structured system design approach. The system uses external large language model APIs through multiple abstraction layers. The system bases its answers on materials that are relevant to the specific courses. The system focuses on protecting user privacy while keeping the system easy to maintain. The system achieves both strong performance and ethical operation through its design choices. The system design follows a modular structure which allows it to adapt to future AI developments and student requirements. The system provides a unified user experience through its complete integration with all system components. The system includes three main components which are the Scheduler and Canvas and Gamification. The system effectively solves the problem of students facing overwhelming academic work and poor time management skills.
</p>

<u><h2><b>UI</b></h2></u>
    <b>D1: Keep the layout steady</b><br>
    <b>Supports:</b> FR-303, FR-304, NFR-301, NFR-302<br>
    Header stays at the top with navigation links and footer at the bottom with site links and social media links. The layout stays adaptive to screen sizes.<br><br>
    
    <b>D2: Intuitive Interaction</b><br>
    <b>Supports:</b> FR-301, FR-302, NFR-301, NFR-30, FR-304, FR-305, NFR-302<br>
    Users interact with either a button or text field. This way the website remains intuitive. The website can also be updated because more buttons or text fields can easily be added.<br><br>
    
    <b>D4: Error Messages</b><br>
    <b>Supports:</b> FR-302, NFR-303<br>
    Users will receive error messages if something is off with the website, so they do not get frustrated.<br><br>
    
    <b>D5: Reliable and strong performance.</b><br>
    <b>Supports:</b> NFR-301, NFR-302, NFR-305<br>
    Lightweight UI will improve performance so users can quickly access whatever they want on the website.<br><br>
    
    <b>D8: Security</b><br>
    <b>Supports:</b> FR-307, NFR-304, NFR-310<br>
    Users must be authenticated to access any features and will be timed out for inactivity.<br>

<u><h2>Scheduler</h2></u>
<h3>User Inputs</h3>
<ul>
  <li><b>Design Decision:</b> Having the user input their preferences.</li>
  <li><b>Related Requirements:</b> FR-401, FR-403</li>
</ul>
<p>
  In order to ensure the generated schedule from the AI is personalized, we thought that the user should be able to input more information regarding what should be apart of their schedules aside 
  from classes and assignments. Including extracurricular activities and free time would provide more constraints to the AI to generate a more personalized schedule. This way, the user knows 
  exactly when they need to do what and for how long. Moreover, including a desired sleep time will also help the user maintain a more organized schedule. 
</p>
<h3>Integration of AI</h3>
<ul>
  <li><b>Design Decision:</b> AI being used to generate the schedule for users.</li>
  <li><b>Related Requirements</b> FR-404, FR-405, FR-406, FR-407, FR-409, NFR-401, NFR-402</li>
</ul>
<p>
  The main reason why an AI was the basis of this project and why we thought it would be best used to create schedules for users, is because of an AIs ability to adapt and learn 
  from data. As long as the user is feeding relevant and useful data, the AI will be able to provide effective schedules. Moreover, if the user were to manually edit parts of the scheduel and,
  for example, switch a block of time dedicated for studying to working out, the AI will be able to learn from that change. This way, for future schedules, the AI will know that the user
  prefers to workout before studying, or vice versa. Regardless, using an AI to generate schedules for users is one of the best ways to ensure personalization. The AI will begin to learn <lightning-modal-footer>
  about the user and will become smarter with how it generates schedules. 
</p>
<h3>Storing Schedules in a Database</h3>
<uL>
  <li><b>Design Decision:</b> Storing old schedules in a database.</li>
  <li><b>Related Requirements:</b> NFR-404, NFR-405, NFR-408, NFR-410 </li>
</uL>
<p> 
  To further ensure that the AI will learn more about the user and its preferences, keeping track of the history of generated and edited schedules will help. After each manual change, from the user,
  to the generated schedule, changes will be stored in the database that the AI can retrieve from and learn as new data is being fed into it. This creates an adaptive feeback loop where 
  new data is constantly being fed to the AI to ensure maximum efficiency in creating effective and personalized schedules over time. 
</p>
<h3>User Edits and Feeback</h3>
<ul>
  <li><b>Design Decision:</b> The ability for the user to manually edit and change the generated schedule from the AI.</li>
  <li><b>Related Requirements:</b> FR-406, FR-408, FR-410, FR-412, NFR-403 </li>
</ul>
<p>
  The AI will not be able to account for random changes in a schedule that may occur in the real world to a user. At any point in time, something could occur with in a week that affects 
  the user's ability to maintain their schedule. So, by giving the ability to manually edit the schedule, the user is able to easily re-correct their schedule and get a new schedule within 5 seconds.
  Not only that, but if the AI was unable to properly/effectively provide a schedule that accounts for all of the user's preferences, the user can edit the schedule to fine tune the AI. This way,
  the AI will be able to learn and get better at accounting for the user's preferences. 
</p>
  </div>
  
</main>
<footer>
  <div class="wrapper prevnext">
    <a href="rationale.html">Previous: Design Rationale</a>
    <span></span>
  </div>
</footer>
</body>
</html>

